<!DOCTYPE html>
<html>
<head>
    <title>Request Details</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
     <body>
        <nav class="navbar navbar-expand-lg bg-body-white border-bottom  border-1 border-secondary border-opacity-25 rounded-bottom shadow">
            <div class="container-fluid">
                <img src="logo.png" alt="">
              <a class="navbar-brand text-success inter" href="dashboard.html">RRMMS</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav justify-content-center align-items-center fs-5 flex-grow-1 pe-3">
                  <li class="nav-item">
                    <a class="nav-link  text-dark" aria-current="page" href="dashboard.html">Dashboard</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link  text-dark" href="screen5.html">Repair Request</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link  text-dark" href="screen6.html">User Approval</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link  text-dark" href="screen7.html">MIV Request</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active text-success fw-bold" aria-current="page" href="Userscreen.html">User Management</a>
                  </li>
                </ul>
                <div>
                    <span id="username">Ahmed Hasan</span>
                    <a class="text-dark " href="login.html"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="30" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
                        <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                      </svg></a>
                </div>
              </div>
            </div>
          </nav>
        
        
        <div class="container" id="blur">

            <div class="outer-square">
                <div id="request-info">
                    <!-- Request details will be displayed here -->
                </div>
                <div class="text-section">
                
                </div>
                <div class="inner-square">
                
                    <h1>Nature of Request</h1>
                    <h2><u>Electric</u></h2>
        
                    <h3>Description</h3>
                    <textarea placeholder="Enter text here...">The UPS is malfunctioning, likely due to a short circuit. The electrical problem disrupts the UPS's ability to provide backup power, compromising its functionality and potentially risking damage to connected devices. Immediate attention is required to diagnose and resolve the issue to restore normal operation and prevent further damage.</textarea>
                   <h3>Images</h3>
                    <div class="image-section">
                        <img src="UPS.png" alt="Image 1">
                        <img src="UPS.png" alt="Image 1">
                        <img src="UPS.png" alt="Image 1">
                        
                        <img src="UPS.png" alt="Image 1">
                    </div>
                    <div class="buttons">
                        <a class="b1" href="screen6.html"> Reject</a>
        
                        <a class="b2" href="screen6.html" >Approve</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="popup">
            <div class="popup">
                <div class="header">
                    <h1><u>Items Requested</u></h1>
                </div>
                <div class="content">
                    <p><strong>Name:</strong> Sufyan Anis</p>
                    <p><strong>Request Date:</strong> Wednesday 10th July 2024</p>
                    <p class="abc"><strong>Status:</strong> Pending</p>
                    <table>
                        <thead>
                            <tr>
                                <th>S#</th>
                                <th>Item</th>
                                <th>Qty</th>
                                <th>Units</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Wire</td>
                                <td>14</td>
                                <td>Meters</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Screw</td>
                                <td>14</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Glue Gun</td>
                                <td>2</td>
                                <td>Small</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="button-container">
                    <button class="b2" href="screen6.html">Approve</button>
        
                </div>
            </div>
        </div>
        
        
        <div id="popup2">
            <h1 class="abcd">Rejection Reason:</h1>
            <textarea class="t2" placeholder=" Please provide the reason for rejection..." rows="5" cols="10"></textarea>
        
            <div class="button-container">
        
                <button class="b1" href="screen6.html">Reject</button>
        
            </div>
            
        </div>
    </body>


    <style>
       
       *{
            font-family: Arial, Helvetica, sans-serif;
        }
 body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: white;

}

#request-info{
    border: px solid;
}
.outer-square {
   margin-top: 0px;
   margin-bottom: 10px;
  margin-right: 30px;
  margin-left: 30px;
  border-radius: 20px;
    justify-content: center;
    align-items: center;
    height:auto;
    background-color:#46F9280F;
    padding: 40px;
}

textarea{
    display: block;
width: 75vw;
height: 20vh;
border-radius: 5px;
}

.inner-square{
    background-color: rgb(255, 255, 255);
    border-radius: 20px;
    padding: 20px;

}

h1{
    text-align: center;
}
h2{
    text-align: center;

}
.b1{
    background-color: red;
    color: #000000;
    border: 2px solid;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
}
.b2{
    background-color:greenyellow;
    color: #000000;
    border: 2px solid;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
}

.buttons {
    display: flex;
    gap: 30px;
    justify-content: flex-end;
}

.navbar a:active {
    background-color: rgb(150, 248, 173);/* Text color of the navbar link when active */
}

.container#blur.active{
    filter:blur(20px);
    pointer-events: none;
    user-select: none;
}

#popup {
    border-radius: 30px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    display: none;
    z-index: 10;
}
#popup.active {
    display: block;
}
#blur.active {
    filter: blur(5px);
}

@media (max-width: 600px) {
    .inner-square textarea {
        width: 100%;
    }
}
.popup {
    width: 90%;
    max-width: 800px;
    margin: 30px auto;
    background: #fff;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
.header, .footer {
    text-align: center;
    padding: 10px 0;
    background: #ffffff;
    color: #7DB945;
}
h1 {
    font-size: 24px;
    margin: 0;
}
.content {
    margin-top: 20px;
}
.content p {
    margin: 5px 0;
    font-size: 18px;
}
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}
th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
}
th {
    background-color: #ffffff;
    color: rgb(0, 0, 0);
}
.button-container {
    text-align: center;
    margin-top: 20px;
}
.button-container button {
   
    color: #000000;
    border: 2px solid;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
}

@media (max-width: 600px) {
    .popup {
        padding: 10px;
    }
    h1 {
        font-size: 20px;
    }
    .content p, th, td {
        font-size: 14px;
    }
    .button-container button {
        padding: 8px 16px;
        font-size: 14px;
    }
}

/* status pending */
.abc{
    color: blue;
}

.abcd{
    padding: 20px;
}


.t2{
    width:400px;
}


#popup2 {
   border: 2px solid red;
    
    border-radius: 30px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    display: none;
    z-index: 10;
}
#popup2.active {
    display: block;
}
#blur.active {
    filter: blur(5px);
}

@media (max-width: 600px) {
    .inner-square textarea {
        width: 100%;
    }
}

    </style>
    <script>

function updatevalue(status) {

}


        function getQueryParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function displayRequestDetails(data, requestId) {
            const container = document.getElementById('request-info');
            const item = data.find(d => d.Request_ID === requestId);

            if (item) {
                const outerDiv = document.createElement('div');
                outerDiv.className = 'outer-square';

                const textSection = document.createElement('div');
                textSection.className = 'text-section';

                textSection.innerHTML = `
                    <p>${item.Name} raised this request on ${item.Created_Date}</p>
                    <p>House No: ${item.House_No}</p>
                    <p>Colony Name: ${item.Colony}</p>
                    <p>Status: ${item.Status}</p>
                    <p>Nature of Request: ${item.Nature_of_Request}</p>
                `;


                outerDiv.appendChild(textSection);
                container.appendChild(outerDiv);
            } else {
                container.innerHTML = '<p>Request not found.</p>';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const requestId = getQueryParameter('Request_ID');
            fetch('requests.json')
                .then(response => response.json())
                .then(data => displayRequestDetails(data, requestId))
                .catch(error => console.error('Error fetching data:', error));
        });


//for updating valuessss







    </script>
</head>

</html>
